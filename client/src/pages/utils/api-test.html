<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API Test Page</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        h1 {
            color: white;
            text-align: center;
            margin-bottom: 30px;
            font-size: 2.5em;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .endpoint-section {
            background: white;
            border-radius: 10px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .endpoint-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid #e0e0e0;
        }

        .method-badge {
            padding: 8px 16px;
            border-radius: 5px;
            font-weight: bold;
            font-size: 0.9em;
            color: white;
        }

        .method-get { background-color: #4CAF50; }
        .method-post { background-color: #2196F3; }
        .method-put { background-color: #FF9800; }
        .method-delete { background-color: #f44336; }

        .endpoint-title {
            font-size: 1.3em;
            font-weight: 600;
            color: #333;
        }

        .endpoint-url {
            font-family: 'Courier New', monospace;
            background: #f5f5f5;
            padding: 10px;
            border-radius: 5px;
            margin-bottom: 15px;
            word-break: break-all;
        }

        .form-group {
            margin-bottom: 15px;
        }

        label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
            color: #555;
        }

        input, textarea, select {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 14px;
            font-family: inherit;
        }

        textarea {
            min-height: 100px;
            resize: vertical;
        }

        .form-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }

        button:active {
            transform: translateY(0);
        }

        .response-section {
            margin-top: 20px;
            padding: 15px;
            background: #f9f9f9;
            border-radius: 5px;
            border-left: 4px solid #667eea;
        }

        .response-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .status-badge {
            padding: 5px 12px;
            border-radius: 3px;
            font-weight: bold;
            font-size: 0.85em;
        }

        .status-success { background-color: #4CAF50; color: white; }
        .status-error { background-color: #f44336; color: white; }
        .status-info { background-color: #2196F3; color: white; }

        pre {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            font-size: 13px;
            line-height: 1.5;
        }

        .hidden {
            display: none;
        }

        .quick-actions {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-bottom: 15px;
        }

        .quick-btn {
            background: #e0e0e0;
            color: #333;
            padding: 8px 16px;
            font-size: 14px;
        }

        .quick-btn:hover {
            background: #d0d0d0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ðŸ§ª API Testing Dashboard</h1>

        <!-- Health Check -->
        <div class="endpoint-section">
            <div class="endpoint-header">
                <span class="method-badge method-get">GET</span>
                <span class="endpoint-title">Health Check</span>
            </div>
            <div class="endpoint-url">/health</div>
            <button onclick="testHealth()">Test Health Check</button>
            <div id="health-response" class="response-section hidden"></div>
        </div>

        <!-- Workshops -->
        <div class="endpoint-section">
            <div class="endpoint-header">
                <span class="method-badge method-get">GET</span>
                <span class="endpoint-title">Get All Workshops</span>
            </div>
            <div class="endpoint-url">/api/workshops</div>
            <button onclick="getAllWorkshops()">Get All Workshops</button>
            <div id="workshops-get-all-response" class="response-section hidden"></div>
        </div>

        <div class="endpoint-section">
            <div class="endpoint-header">
                <span class="method-badge method-get">GET</span>
                <span class="endpoint-title">Get Workshop by ID</span>
            </div>
            <div class="endpoint-url">/api/workshops/:id</div>
            <div class="form-group">
                <label>Workshop ID:</label>
                <input type="number" id="workshop-id" placeholder="Enter workshop ID" value="1">
            </div>
            <button onclick="getWorkshopById()">Get Workshop</button>
            <div id="workshops-get-id-response" class="response-section hidden"></div>
        </div>

        <div class="endpoint-section">
            <div class="endpoint-header">
                <span class="method-badge method-post">POST</span>
                <span class="endpoint-title">Create Workshop</span>
            </div>
            <div class="endpoint-url">/api/workshops</div>
            <div class="form-row">
                <div class="form-group">
                    <label>Title:</label>
                    <input type="text" id="workshop-title" placeholder="Workshop Title">
                </div>
                <div class="form-group">
                    <label>Slug:</label>
                    <input type="text" id="workshop-slug" placeholder="workshop-slug">
                </div>
            </div>
            <div class="form-group">
                <label>Description:</label>
                <textarea id="workshop-description" placeholder="Workshop description"></textarea>
            </div>
            <div class="form-row">
                <div class="form-group">
                    <label>Image Path:</label>
                    <input type="text" id="workshop-image" placeholder="/images/workshop.jpg">
                </div>
                <div class="form-group">
                    <label>Price per Person:</label>
                    <input type="number" id="workshop-price" placeholder="100" step="0.01">
                </div>
                <div class="form-group">
                    <label>Capacity:</label>
                    <input type="number" id="workshop-capacity" placeholder="20">
                </div>
                <div class="form-group">
                    <label>Duration (minutes):</label>
                    <input type="number" id="workshop-duration" placeholder="120">
                </div>
            </div>
            <button onclick="createWorkshop()">Create Workshop</button>
            <div id="workshops-post-response" class="response-section hidden"></div>
        </div>

        <div class="endpoint-section">
            <div class="endpoint-header">
                <span class="method-badge method-put">PUT</span>
                <span class="endpoint-title">Update Workshop</span>
            </div>
            <div class="endpoint-url">/api/workshops/:id</div>
            <div class="form-group">
                <label>Workshop ID:</label>
                <input type="number" id="workshop-update-id" placeholder="Enter workshop ID">
            </div>
            <div class="form-row">
                <div class="form-group">
                    <label>Title:</label>
                    <input type="text" id="workshop-update-title" placeholder="Workshop Title">
                </div>
                <div class="form-group">
                    <label>Slug:</label>
                    <input type="text" id="workshop-update-slug" placeholder="workshop-slug">
                </div>
            </div>
            <div class="form-group">
                <label>Description:</label>
                <textarea id="workshop-update-description" placeholder="Workshop description"></textarea>
            </div>
            <div class="form-row">
                <div class="form-group">
                    <label>Image Path:</label>
                    <input type="text" id="workshop-update-image" placeholder="/images/workshop.jpg">
                </div>
                <div class="form-group">
                    <label>Price per Person:</label>
                    <input type="number" id="workshop-update-price" placeholder="100" step="0.01">
                </div>
                <div class="form-group">
                    <label>Capacity:</label>
                    <input type="number" id="workshop-update-capacity" placeholder="20">
                </div>
                <div class="form-group">
                    <label>Duration (minutes):</label>
                    <input type="number" id="workshop-update-duration" placeholder="120">
                </div>
                <div class="form-group">
                    <label>Is Active:</label>
                    <select id="workshop-update-active">
                        <option value="true">True</option>
                        <option value="false">False</option>
                    </select>
                </div>
            </div>
            <button onclick="updateWorkshop()">Update Workshop</button>
            <div id="workshops-put-response" class="response-section hidden"></div>
        </div>

        <div class="endpoint-section">
            <div class="endpoint-header">
                <span class="method-badge method-delete">DELETE</span>
                <span class="endpoint-title">Delete Workshop (Soft Delete)</span>
            </div>
            <div class="endpoint-url">/api/workshops/:id</div>
            <div class="form-group">
                <label>Workshop ID:</label>
                <input type="number" id="workshop-delete-id" placeholder="Enter workshop ID">
            </div>
            <button onclick="deleteWorkshop()">Delete Workshop</button>
            <div id="workshops-delete-response" class="response-section hidden"></div>
        </div>

        <!-- Bookings -->
        <div class="endpoint-section">
            <div class="endpoint-header">
                <span class="method-badge method-get">GET</span>
                <span class="endpoint-title">Get All Bookings</span>
            </div>
            <div class="endpoint-url">/api/bookings</div>
            <button onclick="getAllBookings()">Get All Bookings</button>
            <div id="bookings-get-all-response" class="response-section hidden"></div>
        </div>

        <div class="endpoint-section">
            <div class="endpoint-header">
                <span class="method-badge method-get">GET</span>
                <span class="endpoint-title">Get Booking by ID</span>
            </div>
            <div class="endpoint-url">/api/bookings/:id</div>
            <div class="form-group">
                <label>Booking ID:</label>
                <input type="number" id="booking-id" placeholder="Enter booking ID" value="1">
            </div>
            <button onclick="getBookingById()">Get Booking</button>
            <div id="bookings-get-id-response" class="response-section hidden"></div>
        </div>

        <div class="endpoint-section">
            <div class="endpoint-header">
                <span class="method-badge method-post">POST</span>
                <span class="endpoint-title">Create Booking</span>
            </div>
            <div class="endpoint-url">/api/bookings</div>
            <div class="form-row">
                <div class="form-group">
                    <label>Workshop Session ID:</label>
                    <input type="number" id="booking-session-id" placeholder="1">
                </div>
                <div class="form-group">
                    <label>Customer Name:</label>
                    <input type="text" id="booking-name" placeholder="John Doe">
                </div>
            </div>
            <div class="form-row">
                <div class="form-group">
                    <label>Customer Email:</label>
                    <input type="email" id="booking-email" placeholder="john@example.com">
                </div>
                <div class="form-group">
                    <label>Customer Phone:</label>
                    <input type="tel" id="booking-phone" placeholder="+1234567890">
                </div>
            </div>
            <div class="form-row">
                <div class="form-group">
                    <label>Number of Participants:</label>
                    <input type="number" id="booking-participants" placeholder="2" min="1">
                </div>
                <div class="form-group">
                    <label>Total Price:</label>
                    <input type="number" id="booking-price" placeholder="200" step="0.01">
                </div>
                <div class="form-group">
                    <label>Booking Date:</label>
                    <input type="date" id="booking-date">
                </div>
            </div>
            <div class="form-group">
                <label>Special Requests:</label>
                <textarea id="booking-requests" placeholder="Any special requests..."></textarea>
            </div>
            <button onclick="createBooking()">Create Booking</button>
            <div id="bookings-post-response" class="response-section hidden"></div>
        </div>

        <div class="endpoint-section">
            <div class="endpoint-header">
                <span class="method-badge method-put">PUT</span>
                <span class="endpoint-title">Update Booking</span>
            </div>
            <div class="endpoint-url">/api/bookings/:id</div>
            <div class="form-group">
                <label>Booking ID:</label>
                <input type="number" id="booking-update-id" placeholder="Enter booking ID">
            </div>
            <div class="form-row">
                <div class="form-group">
                    <label>Customer Name:</label>
                    <input type="text" id="booking-update-name" placeholder="John Doe">
                </div>
                <div class="form-group">
                    <label>Customer Email:</label>
                    <input type="email" id="booking-update-email" placeholder="john@example.com">
                </div>
            </div>
            <div class="form-row">
                <div class="form-group">
                    <label>Customer Phone:</label>
                    <input type="tel" id="booking-update-phone" placeholder="+1234567890">
                </div>
                <div class="form-group">
                    <label>Number of Participants:</label>
                    <input type="number" id="booking-update-participants" placeholder="2" min="1">
                </div>
                <div class="form-group">
                    <label>Total Price:</label>
                    <input type="number" id="booking-update-price" placeholder="200" step="0.01">
                </div>
            </div>
            <div class="form-row">
                <div class="form-group">
                    <label>Status:</label>
                    <select id="booking-update-status">
                        <option value="pending">Pending</option>
                        <option value="confirmed">Confirmed</option>
                        <option value="cancelled">Cancelled</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Booking Date:</label>
                    <input type="date" id="booking-update-date">
                </div>
            </div>
            <div class="form-group">
                <label>Special Requests:</label>
                <textarea id="booking-update-requests" placeholder="Any special requests..."></textarea>
            </div>
            <button onclick="updateBooking()">Update Booking</button>
            <div id="bookings-put-response" class="response-section hidden"></div>
        </div>

        <div class="endpoint-section">
            <div class="endpoint-header">
                <span class="method-badge method-delete">DELETE</span>
                <span class="endpoint-title">Delete Booking</span>
            </div>
            <div class="endpoint-url">/api/bookings/:id</div>
            <div class="form-group">
                <label>Booking ID:</label>
                <input type="number" id="booking-delete-id" placeholder="Enter booking ID">
            </div>
            <button onclick="deleteBooking()">Delete Booking</button>
            <div id="bookings-delete-response" class="response-section hidden"></div>
        </div>

        <!-- Contact -->
        <div class="endpoint-section">
            <div class="endpoint-header">
                <span class="method-badge method-get">GET</span>
                <span class="endpoint-title">Get All Contact Messages</span>
            </div>
            <div class="endpoint-url">/api/contact</div>
            <button onclick="getAllContactMessages()">Get All Messages</button>
            <div id="contact-get-all-response" class="response-section hidden"></div>
        </div>

        <div class="endpoint-section">
            <div class="endpoint-header">
                <span class="method-badge method-get">GET</span>
                <span class="endpoint-title">Get Contact Message by ID</span>
            </div>
            <div class="endpoint-url">/api/contact/:id</div>
            <div class="form-group">
                <label>Message ID:</label>
                <input type="number" id="contact-id" placeholder="Enter message ID" value="1">
            </div>
            <button onclick="getContactMessageById()">Get Message</button>
            <div id="contact-get-id-response" class="response-section hidden"></div>
        </div>

        <div class="endpoint-section">
            <div class="endpoint-header">
                <span class="method-badge method-post">POST</span>
                <span class="endpoint-title">Create Contact Message</span>
            </div>
            <div class="endpoint-url">/api/contact</div>
            <div class="form-row">
                <div class="form-group">
                    <label>Name:</label>
                    <input type="text" id="contact-name" placeholder="John Doe">
                </div>
                <div class="form-group">
                    <label>Email:</label>
                    <input type="email" id="contact-email" placeholder="john@example.com">
                </div>
                <div class="form-group">
                    <label>Phone:</label>
                    <input type="tel" id="contact-phone" placeholder="+1234567890">
                </div>
            </div>
            <div class="form-group">
                <label>Subject:</label>
                <input type="text" id="contact-subject" placeholder="Message subject">
            </div>
            <div class="form-group">
                <label>Message:</label>
                <textarea id="contact-message" placeholder="Your message here..."></textarea>
            </div>
            <button onclick="createContactMessage()">Send Message</button>
            <div id="contact-post-response" class="response-section hidden"></div>
        </div>

        <div class="endpoint-section">
            <div class="endpoint-header">
                <span class="method-badge method-put">PUT</span>
                <span class="endpoint-title">Mark Message as Read</span>
            </div>
            <div class="endpoint-url">/api/contact/:id/read</div>
            <div class="form-group">
                <label>Message ID:</label>
                <input type="number" id="contact-read-id" placeholder="Enter message ID">
            </div>
            <button onclick="markMessageAsRead()">Mark as Read</button>
            <div id="contact-put-response" class="response-section hidden"></div>
        </div>

        <div class="endpoint-section">
            <div class="endpoint-header">
                <span class="method-badge method-delete">DELETE</span>
                <span class="endpoint-title">Delete Contact Message</span>
            </div>
            <div class="endpoint-url">/api/contact/:id</div>
            <div class="form-group">
                <label>Message ID:</label>
                <input type="number" id="contact-delete-id" placeholder="Enter message ID">
            </div>
            <button onclick="deleteContactMessage()">Delete Message</button>
            <div id="contact-delete-response" class="response-section hidden"></div>
        </div>
    </div>

    <script>
        const API_BASE = window.location.origin;

        function displayResponse(elementId, response, status) {
            const element = document.getElementById(elementId);
            element.classList.remove('hidden');
            const statusClass = status >= 200 && status < 300 ? 'status-success' : 
                               status >= 400 ? 'status-error' : 'status-info';
            element.innerHTML = `
                <div class="response-header">
                    <span class="status-badge ${statusClass}">Status: ${status}</span>
                    <span style="color: #666;">${new Date().toLocaleTimeString()}</span>
                </div>
                <pre>${JSON.stringify(response, null, 2)}</pre>
            `;
        }

        function handleError(elementId, error, status = 500) {
            displayResponse(elementId, { error: error.message || error }, status);
        }

        // Health Check
        async function testHealth() {
            try {
                const response = await fetch(`${API_BASE}/health`);
                const data = await response.json();
                displayResponse('health-response', data, response.status);
            } catch (error) {
                handleError('health-response', error);
            }
        }

        // Workshops
        async function getAllWorkshops() {
            try {
                const response = await fetch(`${API_BASE}/api/workshops`);
                const data = await response.json();
                displayResponse('workshops-get-all-response', data, response.status);
            } catch (error) {
                handleError('workshops-get-all-response', error);
            }
        }

        async function getWorkshopById() {
            const id = document.getElementById('workshop-id').value;
            if (!id) {
                alert('Please enter a workshop ID');
                return;
            }
            try {
                const response = await fetch(`${API_BASE}/api/workshops/${id}`);
                const data = await response.json();
                displayResponse('workshops-get-id-response', data, response.status);
            } catch (error) {
                handleError('workshops-get-id-response', error);
            }
        }

        async function createWorkshop() {
            const workshop = {
                title: document.getElementById('workshop-title').value,
                slug: document.getElementById('workshop-slug').value,
                description: document.getElementById('workshop-description').value,
                image_path: document.getElementById('workshop-image').value,
                price_per_person: parseFloat(document.getElementById('workshop-price').value),
                capacity: parseInt(document.getElementById('workshop-capacity').value),
                duration_minutes: parseInt(document.getElementById('workshop-duration').value)
            };
            try {
                const response = await fetch(`${API_BASE}/api/workshops`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(workshop)
                });
                const data = await response.json();
                displayResponse('workshops-post-response', data, response.status);
            } catch (error) {
                handleError('workshops-post-response', error);
            }
        }

        async function updateWorkshop() {
            const id = document.getElementById('workshop-update-id').value;
            if (!id) {
                alert('Please enter a workshop ID');
                return;
            }
            const workshop = {
                title: document.getElementById('workshop-update-title').value,
                slug: document.getElementById('workshop-update-slug').value,
                description: document.getElementById('workshop-update-description').value,
                image_path: document.getElementById('workshop-update-image').value,
                price_per_person: parseFloat(document.getElementById('workshop-update-price').value),
                capacity: parseInt(document.getElementById('workshop-update-capacity').value),
                duration_minutes: parseInt(document.getElementById('workshop-update-duration').value),
                is_active: document.getElementById('workshop-update-active').value === 'true'
            };
            try {
                const response = await fetch(`${API_BASE}/api/workshops/${id}`, {
                    method: 'PUT',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(workshop)
                });
                const data = await response.json();
                displayResponse('workshops-put-response', data, response.status);
            } catch (error) {
                handleError('workshops-put-response', error);
            }
        }

        async function deleteWorkshop() {
            const id = document.getElementById('workshop-delete-id').value;
            if (!id) {
                alert('Please enter a workshop ID');
                return;
            }
            try {
                const response = await fetch(`${API_BASE}/api/workshops/${id}`, {
                    method: 'DELETE'
                });
                const data = await response.json();
                displayResponse('workshops-delete-response', data, response.status);
            } catch (error) {
                handleError('workshops-delete-response', error);
            }
        }

        // Bookings
        async function getAllBookings() {
            try {
                const response = await fetch(`${API_BASE}/api/bookings`);
                const data = await response.json();
                displayResponse('bookings-get-all-response', data, response.status);
            } catch (error) {
                handleError('bookings-get-all-response', error);
            }
        }

        async function getBookingById() {
            const id = document.getElementById('booking-id').value;
            if (!id) {
                alert('Please enter a booking ID');
                return;
            }
            try {
                const response = await fetch(`${API_BASE}/api/bookings/${id}`);
                const data = await response.json();
                displayResponse('bookings-get-id-response', data, response.status);
            } catch (error) {
                handleError('bookings-get-id-response', error);
            }
        }

        async function createBooking() {
            const booking = {
                workshop_session_id: parseInt(document.getElementById('booking-session-id').value),
                customer_name: document.getElementById('booking-name').value,
                customer_email: document.getElementById('booking-email').value,
                customer_phone: document.getElementById('booking-phone').value,
                number_of_participants: parseInt(document.getElementById('booking-participants').value),
                special_requests: document.getElementById('booking-requests').value,
                total_price: parseFloat(document.getElementById('booking-price').value),
                booking_date: document.getElementById('booking-date').value || new Date().toISOString().split('T')[0]
            };
            try {
                const response = await fetch(`${API_BASE}/api/bookings`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(booking)
                });
                const data = await response.json();
                displayResponse('bookings-post-response', data, response.status);
            } catch (error) {
                handleError('bookings-post-response', error);
            }
        }

        async function updateBooking() {
            const id = document.getElementById('booking-update-id').value;
            if (!id) {
                alert('Please enter a booking ID');
                return;
            }
            const booking = {
                customer_name: document.getElementById('booking-update-name').value,
                customer_email: document.getElementById('booking-update-email').value,
                customer_phone: document.getElementById('booking-update-phone').value,
                number_of_participants: parseInt(document.getElementById('booking-update-participants').value),
                special_requests: document.getElementById('booking-update-requests').value,
                total_price: parseFloat(document.getElementById('booking-update-price').value),
                status: document.getElementById('booking-update-status').value,
                booking_date: document.getElementById('booking-update-date').value || new Date().toISOString().split('T')[0]
            };
            try {
                const response = await fetch(`${API_BASE}/api/bookings/${id}`, {
                    method: 'PUT',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(booking)
                });
                const data = await response.json();
                displayResponse('bookings-put-response', data, response.status);
            } catch (error) {
                handleError('bookings-put-response', error);
            }
        }

        async function deleteBooking() {
            const id = document.getElementById('booking-delete-id').value;
            if (!id) {
                alert('Please enter a booking ID');
                return;
            }
            try {
                const response = await fetch(`${API_BASE}/api/bookings/${id}`, {
                    method: 'DELETE'
                });
                const data = await response.json();
                displayResponse('bookings-delete-response', data, response.status);
            } catch (error) {
                handleError('bookings-delete-response', error);
            }
        }

        // Contact
        async function getAllContactMessages() {
            try {
                const response = await fetch(`${API_BASE}/api/contact`);
                const data = await response.json();
                displayResponse('contact-get-all-response', data, response.status);
            } catch (error) {
                handleError('contact-get-all-response', error);
            }
        }

        async function getContactMessageById() {
            const id = document.getElementById('contact-id').value;
            if (!id) {
                alert('Please enter a message ID');
                return;
            }
            try {
                const response = await fetch(`${API_BASE}/api/contact/${id}`);
                const data = await response.json();
                displayResponse('contact-get-id-response', data, response.status);
            } catch (error) {
                handleError('contact-get-id-response', error);
            }
        }

        async function createContactMessage() {
            const message = {
                name: document.getElementById('contact-name').value,
                email: document.getElementById('contact-email').value,
                phone: document.getElementById('contact-phone').value,
                subject: document.getElementById('contact-subject').value,
                message: document.getElementById('contact-message').value
            };
            try {
                const response = await fetch(`${API_BASE}/api/contact`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(message)
                });
                const data = await response.json();
                displayResponse('contact-post-response', data, response.status);
            } catch (error) {
                handleError('contact-post-response', error);
            }
        }

        async function markMessageAsRead() {
            const id = document.getElementById('contact-read-id').value;
            if (!id) {
                alert('Please enter a message ID');
                return;
            }
            try {
                const response = await fetch(`${API_BASE}/api/contact/${id}/read`, {
                    method: 'PUT'
                });
                const data = await response.json();
                displayResponse('contact-put-response', data, response.status);
            } catch (error) {
                handleError('contact-put-response', error);
            }
        }

        async function deleteContactMessage() {
            const id = document.getElementById('contact-delete-id').value;
            if (!id) {
                alert('Please enter a message ID');
                return;
            }
            try {
                const response = await fetch(`${API_BASE}/api/contact/${id}`, {
                    method: 'DELETE'
                });
                const data = await response.json();
                displayResponse('contact-delete-response', data, response.status);
            } catch (error) {
                handleError('contact-delete-response', error);
            }
        }

        // Set today's date as default for booking date fields
        document.addEventListener('DOMContentLoaded', () => {
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('booking-date').value = today;
            document.getElementById('booking-update-date').value = today;
        });
    </script>
</body>
</html>

